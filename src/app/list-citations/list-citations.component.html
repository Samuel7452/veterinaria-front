<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">


<div class="page">


    <div class="content">

        <div class="container">
            <h2 class="text-center mb-4 text-primary"><i class="fa fa-calendar-check"></i> Lista de Citas</h2>
          
            <div class="d-flex justify-content-end mb-3">
              <button *ngIf="!vet" (click)="showOver()" class="btn btn-success">
                <i class="fa fa-plus"></i> Nueva cita
              </button>
            </div>
          
            <div class="table-responsive shadow rounded bg-white p-3">
              <table class="table table-hover align-middle">
                <thead class="table-primary">
                  <tr>
                    <th>Fecha</th>
                    <th>Mascota</th>
                    <th>Estado</th>
                    <th>Veterinario</th>
                    <th *ngIf="vet || admin">Dueño</th>
                    <th>Acciones</th>
                  </tr>
                </thead>
                <tbody *ngFor="let citation of citations">
                  <tr>
                    <td>{{ citation.date }}</td>
                    <td>{{ citation.pet_name }}</td>
                    <td>
                      <span class="badge" [ngClass]="citation.is_active ? 'bg-success' : 'bg-secondary'">
                        {{ citation.is_active ? 'Activa' : 'Inactiva' }}
                      </span>
                    </td>
                    <td>{{ citation.vet_name }}</td>
                    <td *ngIf="vet || admin">{{ citation.owner_name }}</td>
                    <td>
                      <button (click)="deleteCitation(citation.id)" class="btn btn-danger btn-sm">
                        <i class="fa fa-trash"></i> Eliminar
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          
            <!-- Overlay para crear nueva cita -->
            <div class="overlay" *ngIf="showOverlay">
              <div class="overlay-content">
                <button class="close-btn" (click)="togleOverlay()">✖</button>
                <div class="card-list mt-4">
                  <app-create-citation></app-create-citation>
                </div>
              </div>
            </div>
          </div>
          
    </div>
</div>
